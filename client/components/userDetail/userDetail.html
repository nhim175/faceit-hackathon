<template name="userDetail">
  <div class="app-header">
    <div class="ui top attached menu">
      <div class="ui icon item" id="back-btn">
        <i class="chevron left icon"></i>
      </div>

      <div class="header-title">
        <h3 class="ui header center aligned">{{user.profile.name}}</h3>
      </div>
    </div>
  </div>

  <div class="attendance-detail padding">
    <div class="ui grid">
      <div class="six wide column">
        <img class="ui image rounded fluid" src="{{user.profile.avatar}}">
      </div>
      <div class="ten wide column">
        <h3>{{user.profile.name}}</h3>
        {{#if user.profile.phoneNumber}}
        <p>
          <b>Phone number:</b><br>
          {{user.profile.phoneNumber}}
        </p>
        {{/if}}

        {{#if user.profile.emergencyNumber}}
        <p>
          <b>Emergency number:</b><br>
          {{user.profile.emergencyNumber}}
        </p>
        {{/if}}
      </div>
    </div>

    <div class="ui comments">
      <h3 class="ui dividing header">{{user.profile.name}}'s log</h3>

      {{#each checkInOuts}}
      <div class="comment">
        <a class="avatar">
          <img src="{{#with getUser userId}}{{profile.avatar}}{{/with}}">
        </a>
        <div class="content">
          <a class="author">
          {{#with getUser userId}}
            {{profile.name}}
          {{/with}}

          {{#if isCheckIn this}}
            checked in
          {{else}}
            checked out
          {{/if}}
          </a>
          <div class="metadata">
            <span class="date">{{timeAgo(createdAt)}}</span>
          </div>
          <div class="text">
          At {{#with getEvent eventId}}{{name}}{{/with}}
          </div>
        </div>
      </div>
      {{/each}}
    </div>
  </div>
</template>
